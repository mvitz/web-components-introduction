<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>Web Component</title>
  </head>
  <body>

    <my-alert type="warn">
      <h4>Achtung</h4>
      <p>Etwas schlimmes ist passiert!</p>
    </my-alert>

    <my-alert type="success">
      <h4>Gl&uuml;ckwunsch</h4>
      <p>Alles im gr&uuml;nen Bereich!</p>
    </my-alert>

    <script>
      class MyAlert extends HTMLElement {
        constructor() {
          super();
          // document.querySelectorAll('my-alert')[0].shadowRoot.querySelector('.warn')
          this.shadow = this.attachShadow({mode: 'closed'});
        }

        connectedCallback() {
          const style = document.createElement('style');
          style.textContent = `
            .warn { border: 1px solid red; display: block; }
            .success { border: 1px solid green; display: block; }`;

          const button = document.createElement('button');
          button.innerHTML = '&times;';
          button.addEventListener('click', () => {
            this.style.display = 'none';
          });

          const wrapper = document.createElement('div');
          wrapper.classList.add(this.getAttribute('type'));

          wrapper.appendChild(style);
          wrapper.appendChild(button);
          this.childNodes.forEach(node => {
            wrapper.appendChild(node.cloneNode(true));
          });

          this.shadow.appendChild(wrapper);
        }
      }

      customElements.define('my-alert', MyAlert);
    </script>
  </body>
</html>
